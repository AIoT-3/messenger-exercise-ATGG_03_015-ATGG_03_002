# 추가 구현 5 - NIO 기반 비차단 I/O 모델 도입

본 문서는 대규모 동시 접속 처리를 위한 Java NIO 기반의 비차단(Non-blocking) I/O 모델 도입 방안을 정의합니다.

## 공통 사항
* 본 문서의 내용은 [기본 메시지 API 문서](./message-api-spec.md)에 정의된 시스템 구조를 바탕으로 합니다.

---

## 성능 개선 방안: 커넥션 관리 (Java NIO)

> 대규모 사용자가 동시에 접속하는 메신저 서버의 특성상, 전통적인 Blocking I/O 방식은 스레드 부족 문제를 야기할 수 있습니다. 이를 해결하기 위해 NIO를 도입합니다.

### 주요 도입 내용

*   **Selector 활용**: 하나의 스레드가 여러 개의 채널(Channel)을 모니터링하고, 준비된 채널의 이벤트만 처리하는 멀티플렉싱(Multiplexing) 구조를 가집니다.
*   **비차단(Non-blocking) 모드**: I/O 작업(read, write, accept) 시 스레드가 블로킹되지 않아 자원을 효율적으로 사용합니다.
*   **스레드 모델 최적화**:
    *   **Acceptor Thread**: 새로운 연결 요청을 처리합니다.
    *   **Worker Thread Pool**: Selector에 의해 감지된 실제 I/O 데이터를 읽고 쓰는 비즈니스 로직을 처리합니다.
*   **적은 수의 스레드로 대규모 동시 접속 처리**: 수만 개의 클라이언트 연결을 수십 개의 스레드만으로도 안정적으로 관리할 수 있어 시스템 자원 소모를 최소화합니다.
