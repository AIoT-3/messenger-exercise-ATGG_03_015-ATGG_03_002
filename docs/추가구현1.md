# 추가 구현 1 - 파일 전송 기능

본 문서는 메신저의 확장 기능 중 파일 전송 기능에 대한 API 스펙을 정의합니다.

## 공통 사항
* 본 문서의 모든 API는 [기본 메시지 API 문서](./message-api-spec.md)에 정의된 **보안 고려사항** 및 **공통 메시지 구조**를 따릅니다.

---

## 파일 전송 관련

### 파일 전송 요청 (`FILE-TRANSFER`)

> 클라이언트는 채팅방 내에서 파일을 전송할 수 있습니다. 파일 데이터는 JSON 구조를 유지하기 위해 Base64 인코딩되어 전송됩니다. 최대 파일 크기는 10MB로 제한됩니다.

**Request (클라이언트 → 서버):**

```json
{
  "header": {
    "type": "FILE-TRANSFER",
    "timestamp": "2024-01-09T12:00:00Z",
    "sessionId": "550e8400-e29b-41d4-a716-446655440000"
  },
  "data": {
    "roomId": 123456789,
    "fileName": "project-report.pdf",
    "fileSize": 5242880,
    "fileData": "BASE64_ENCODED_STRING..."
  }
}
```

**Response (서버 → 클라이언트):**

성공:

```json
{
  "header": {
    "type": "FILE-TRANSFER-SUCCESS",
    "success": true,
    "timestamp": "2024-01-09T12:00:00Z"
  },
  "data": {
    "roomId": 123456789,
    "messageId": 1122334455,
    "fileName": "project-report.pdf"
  }
}
```

실패:

```json
{
  "header": {
    "type": "ERROR",
    "success": false,
    "timestamp": "2024-01-09T12:00:00Z"
  },
  "data": {
    "code": "FILE.SIZE_EXCEEDED",
    "message": "파일 크기가 제한(10MB)을 초과했습니다."
  }
}
```
